@using Microsoft.AspNetCore.Authorization;
@using Microsoft.AspNetCore.Identity;


<MudTd DataLabel="">
     <MudLink Href="/Identity/Account/Register">  @_localizer["newUser"]  </MudLink>
</MudTd>
<MudTable Items="@_usersForForm" SortLabel="Sort By"> 
    <HeaderContent>
        <MudTh>@_localizer["id"]</MudTh>
        <MudTh><MudTableSortLabel SortBy="new Func<ManagerUserModel,object>(x => x.UserSurname)">@_localizer["surname"]</MudTableSortLabel></MudTh>
        <MudTh><MudTableSortLabel SortBy="new Func<ManagerUserModel,object>(x => x.UserEmail)">@_localizer["email"]</MudTableSortLabel></MudTh>
        <MudTh>@_localizer["roles"]</MudTh>
    </HeaderContent>
    <RowTemplate>
        <MudTd DataLabel="@_localizer["id"]">@context.UserId</MudTd>
        <MudTd DataLabel="@_localizer["surname"]">@context.UserSurname</MudTd>
        <MudTd DataLabel="@_localizer["email"]">@context.UserEmail</MudTd>
       <MudTd DataLabel="@_localizer["roles"]">
            @foreach (var item in @context.UserRoles)
            {
                <MudTd>@item</MudTd>
            }
       </MudTd>   


        <MudTd DataLabel="">
           <MudFab @onclick="@(() => EditUser(@context.UserId))" Color="Color.Primary" Icon="@Icons.Material.Filled.Edit" Size="Size.Small" IconSize="Size.Small"/>
         </MudTd>
    </RowTemplate>
</MudTable>